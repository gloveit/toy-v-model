<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>js 数组</title>
  </head>
  <body></body>
  <script>
    // 排序方法
    let arr = [10, 9, 16, 6, 3, 2, 5]
    // 升序排列
    // function compare(value1, value2) {
    //   if (value1 < value2) {
    //     return 1
    //   } else if (value1 > value2) {
    //     return -1
    //   } else {
    //     return 0
    //   }
    // }
    function compare1(value1, value2) {
      // 降序
      return value2 - value1
    }
    // console.log('arr', arr.sort(compare1))

    // 归并方法, reduce不会改变原有的数组
    let addArr = [1, 2, 3, 4]
    let sum = addArr.reduce(function(pre, cur, index, array) {
      return pre + cur
    })

    // 函数自带方法apply和call
    function addFunc(val1, val2) {
      return val1 + val2
    }
    // apply方法
    function sumTo(sum1, sum2) {
      return addFunc.apply(this, arguments)
    }
    // call方法
    function sumCall(sum1, sum2) {
      return addFunc.call(this, sum1, sum2)
    }
    // console.log('sum', sumCall(2, 3))

    // ES6变量声明const,申明字符串变量不能更改
    const name = 'xiaoming'
    const cobj = { name: 'xiaohua', age: '20' }
    cobj.color = '黑色'
    const robj = cobj
    // name = 'xiahua'
    // console.log('name', robj.name)

    // 闭包
    function outFunc(name) {
      return function() {
        console.log('hello' + ',' + name)
      }
    }
    // outFunc('小哥')()

    // 头条面试-this
    // var a = function() {
    //   this.b = 3
    // }
    // var c = new a()
    // a.prototype.b = 9
    // var b = 7
    // a()

    // console.log(b)
    // console.log(c.b)

    // 箭头函数
    let tobj = {
      name: '我是箭头',
      sayName: function() {
        console.log(this.name)
      }
    }
    // tobj.sayName()

    // promie
    // function timeout(ms) {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(resolve, ms, 'helleo done')
    //   })
    // }

    // timeout(100).then(value => {
    //   console.log(value)
    // })

    //
    // for (var i = 0; i < 100; i++) {
    //   setTimeout(() => {
    //     console.log('i', i)
    //   }, 0)
    // }

    // for (let i = 0; i < 100; i++) {
    //   setTimeout(() => {
    //     console.log('i', i)
    //   }, 0)
    // }

    // vue2中的data()为什们是一个函数？
    // 构造函数的this指向实例本身
    function Component() {
      this.data = this.data()
    }
    Component.prototype.data = function() {
      return {
        name: 'jack',
        age: 22
      }
    }
    var componentA = new Component()
    var componentB = new Component()
    componentA.data.age = 55
    // console.log(componentA, componentB)
  </script>
</html>
